<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.0/dist/quartz/bootstrap.min.css">
    <script type="text/javascript">
        function clearSearch() {
            window.location = "[[@{/search}]]";
        }
    </script>
    <style>
        .table{
            border-top-color: mediumslateblue;
            border-bottom-color: mediumslateblue;
        }
    </style>
</head>
<body>
<div class="container">
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid"><div class="navbar-nav">
            <a class="navbar-brand" href="#">Date4u</a>
            <a class="nav-link nav-item" th:href="@{profile}">My Profile</a>
            <a class="nav-link nav-item" th:href="@{/logout}">Logout</a>
        </div></div>
    </nav>
    <div class="jumbotron">
        </br>
        <h1 class="display-4" th:align="center">Find Your Destiny </h1>
        </br></br>
        <form th:action="@{/search}" th:object="${filter}" method="get">
<!--            <input type="text" name="keyword" th:value="${gender}"  placeholder="Gender" size="5" >-->
            <div class="filter-class">
                <div class="row col-12 mx-auto">
                    <div class="col-2">Gender of Partner</div>
                    <div class="col-4">Age of Partner</div>
                    <div class="col-4">Hornlength</div>
                    <div class="col-2">Action</div>
                </div>
                <div class="row">
                    <div class="col-2 mx-auto" th:align="center">
                        <!--                    <label for="gender" class="form-label"> Gender</label>-->
                        <select data-th-field="*{gender}" id="gender" >
                            <option th:value="0" th:text="Other"></option>
                            <option th:value="1" th:text="Male"></option>
                            <option th:value="2" th:text="Female"></option>
                            <option th:value="3" th:text="All"></option>

                        </select>
                    </div>
                    <div class="col-4 mx-auto">
                        <div class="row" th:align="center">
                            <!--                        <p th:align="center"> Age of the Partner</p>-->
                            <div class="col-2 mx-auto" th:align="center">
                                <label for="minAge" class="form-label"> From</label>
                                <select th:field="${filter.minAge}" id="minAge">
                                    <option th:each="i : ${#numbers.sequence(18, 100)}" th:value="${i}" th:text="${i}" >
                                    </option>
                                </select>
                            </div>
                            <div class="col-2 mx-auto" th:align="center">
                                <label for="maxAge" class="form-label"> To</label>
                                <select th:field="${filter.maxAge}" id="maxAge">
                                    <option th:each="j : ${#numbers.sequence(18, 100)}" th:value="${j}" th:text="${j}">
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="col-4 mx-auto">
                        <div class="row" th:align="center">
                            <!--                        <p th:align="center"> Hornlength</p>-->
                            <div class="col-2 mx-auto" th:align="center">
                                <label for="minLength" class="form-label"> From</label>
                                <select th:field="${filter.minHornlength}" id="minLength">
                                    <option th:each="minh : ${#numbers.sequence(0, 100)}" th:value="${minh}"
                                            th:text="${minh}">
                                    </option>
                                </select>
                            </div>
                            <div class="col-2 mx-auto" th:align="center">
                                <label for="maxLength" class="form-label"> To</label>
                                <select th:field="${filter.maxHornlength}" id="maxLength">
                                    <option th:each="maxh : ${#numbers.sequence(0, 100)}" th:value="${maxh}"
                                            th:text="${maxh}" >
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-2 mx-auto">
                        <button type="submit" class="btn btn-primary">Search</button>
                        <br><br>
                        <a th:href="@{/reset}"
                           class="btn btn-info">Reset </a>
                    </div>

                </div>
            </div>

        </form>
        <br><br>
        <h3>The following Unicorns match: </h3>
        <br><br>


<!--        <form th:action="@{/search/result}" method="post">-->
            <div style="width:80%" th:border="1" th:align="center" class="table" th:if="${totalProfilesNumber} != null">
                <p th:text="${message}" th:if="${message ne null}" class="alert alert-primary"></p>
                <div class="col-md-12 mx-auto" >
                    <div class="row">
                        <div class="col-md-1 mx-auto">
                            #
                        </div>
                        <div class="col-md-2 mx-auto">
                            <h6>Photo</h6>
                        </div>
                        <div class="col-md-2 mx-auto">
                            <h6>Length of Horn</h6>
                        </div>
                        <div class="col-md-1 mx-auto">
                            <h6> Age </h6>
                        </div>
                        <div class="col-md-1 mx-auto">
                            <h6>Gender</h6>
                        </div>
                        <div class="col-md-2 mx-auto">
                            <h6>Gender of Partner</h6>
                        </div>
                        <div class="col-md-3 mx-auto">
                            <h6>Description</h6>
                        </div>
                    </div>

                    <div data-th-each="profile,it : ${pageOfProfiles}">
                        <div class="row">
                            <input type="hidden" th:value="${profile.id}" name="id"/>

                            <div class="col-md-1 mx-auto">
                                <p data-th-text="${it.count} +(${pageOfProfiles.size()}* (${currentPage}-1))">
                                    COUNTER</p>
                            </div>
                            <div class="col-md-2 mx-auto" th:align="center">
                                <img th:src="@{'/images/img/' + ${profile.profilePhoto} + '.jpg'}"
                                     style="width: 60px; height: 70px;"
                                     alt="Photo of Unicorn">
                                <br>
                                <div>
                                <a th:href="@{/profile/{id}(id=${profile.id}) }"
                                   type="button" class="btn btn-info btn-sm"  th:text="${profile.nickname}">Go to Profile</a>
                                </div>
                            </div>

                            <div class="col-md-2 mx-auto">
                                <p class="center-block" th:text="${profile.hornlength}">date</p>
                            </div>

                            <div class="col-md-1 mx-auto">
                                <p data-th-text="${profile.age}">Age</p>
                            </div>

                            <div class="col-md-1 mx-auto">
                                <p data-th-text="${profile.getGenderAsStr()}">Gender</p>
                            </div>

                            <div class="col-md-2 mx-auto">
                                <p data-th-text="${profile.getAttractGenderAsStr()}">Gender</p>
                            </div>

                            <div class="col-md-3 mx-auto">
                                <p data-th-text="${profile.description}">Description</p>
                            </div>
                        </div>
                    </div>
                </div>
<!--                <span th:if="${msg != null}" th:text="${msg}"></span>-->
            </div>

            <footer style="font-size: large" class="panel-footer" th:align="center">
                <div th:if="${totalPages > 0}" class="pagination">
                Found [[${totalProfilesNumber}]] Profiles : Page [[${currentPage}]] of [[${totalPages}]]
                &nbsp; &nbsp; --> &nbsp;
                <span th:each="i: ${pageNumbers}">
                <a th:href="@{/search(size=${5}, page=${i})}" th:class="${i==currentPage} ? active" th:text="'  Page ' + ${i} "></a>
<!--                    [[${i}]]-->
                </span>
                </div>
                <br><br>
                <div >
                    <a href="../profile.html" th:href="@{/profile}">Go to Profile</a>
                    <br><br><br><br><br><br>
                </div>
            </footer>

    </div>


    </div>


</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
</body>
</html>