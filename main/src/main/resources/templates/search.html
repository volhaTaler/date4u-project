<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/html">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@5.1.0/dist/quartz/bootstrap.min.css">

    <style>
        .col{
            margin-bottom: 15px;
            /*margin-left:5px;*/
            /*margin-right: 3px;*/
        }
        .col-md-6{
            margin-bottom: 20px;
            margin-top: 25px;
        }
        .btn-default {
            border: none;
            outline: none;
            padding: 10px 16px;
            margin-right: 5px;
            background-color: #cf84d0;
            cursor: pointer;
        }
        .active, .btn-default:hover {
            text-decoration-color: #668;
            color:  #668;;
            color: white;
        }
    </style>
</head>
<body>
<div class="container">
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container-fluid"><div class="navbar-nav">
            <a class="navbar-brand" href="#">Date4u</a>
            <a class="nav-link nav-item" th:href="@{profile}">My Profile</a>
            <a class="nav-link nav-item" th:href="@{/logout}">Logout</a>
        </div></div>
    </nav>
    <div class="jumbotron">
        </br>
        <h1 class="display-4" th:align="center">Find Your Destiny </h1>
        </br></br>
        <form th:action="@{/search}" th:object="${filter}" method="get">
            <div class="flex-content" style="width: 90%">
                <div class="row justify-content-around">
                    <div class="col" th:align="center">
                        <label for="gender" class="form-label"> Gender</label>
                        <select data-th-field="*{gender}" id="gender">
                            <option th:value="0" th:text="Other"></option>
                            <option th:value="1" th:text="Male"></option>
                            <option th:value="2" th:text="Female"></option>
                            <option th:value="3" th:text="All"></option>

                        </select>

                    </div>
                    <div class="col" th:align="center">
                        <label for="minAge" class="form-label"> Partner older than</label>
                        <select th:field="${filter.minAge}" id="minAge">
                            <option th:each="i : ${#numbers.sequence(18, 100)}" th:value="${i}" th:text="${i}">
                            </option>
                        </select>
                    </div>
                    <div class="col" th:align="center">
                        <label for="maxAge" class="form-label">Partner younger than</label>
                        <select th:field="${filter.maxAge}" id="maxAge">
                            <option th:each="j : ${#numbers.sequence(18, 100)}" th:value="${j}" th:text="${j}">
                            </option>
                        </select>
                    </div>
                    <div class="col" th:align="center">
                        <label for="minLength" class="form-label"> With Hornlength From</label>
                        <select th:field="${filter.minHornlength}" id="minLength">
                            <option th:each="minh : ${#numbers.sequence(0, 100)}" th:value="${minh}"
                                    th:text="${minh}">
                            </option>
                        </select>
                    </div>
                    <div class="col" th:align="center">
                        <label for="maxLength" class="form-label"> With Hornlength To</label>
                        <select th:field="${filter.maxHornlength}" id="maxLength">
                            <option th:each="maxh : ${#numbers.sequence(0, 100)}" th:value="${maxh}"
                                    th:text="${maxh}">
                            </option>
                        </select>
                    </div>

                </div>


            </div>
            <div class="flex-content" style="width: 80%">
                <div class="row justify-content-around">
                    <div class="col-md-6 mx-auto" th:align="center">
                    <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                    <div class="col-md-6 mx-auto" th:align="center">
                    <a th:href="@{/reset}"
                       class="btn btn-info">Reset </a>
                    </div>
                </div>
            </div>




        </form>

<!--        <form th:action="@{/search/result}" method="post">-->
            <div style="width:80%" th:border="1" th:align="center" class="table" th:if="${totalProfilesNumber} != null">
                <br><br>
                <h3>The following Unicorns match: </h3>
                <hr>
                <br><br>
                <p th:text="${message}" th:if="${message ne null}" class="alert alert-primary"></p>
                <div class="col-md-12 mx-auto" >
                    <div class="row">
                        <div class="col-md-1 mx-auto">
                            Nr.
                        </div>
                        <div class="col-md-2 mx-auto">
                            <h6>Photo</h6>
                        </div>
                        <div class="col-md-2 mx-auto">
                            <h6>Length of Horn</h6>
                        </div>
                        <div class="col-md-1 mx-auto">
                            <h6> Age </h6>
                        </div>
                        <div class="col-md-1 mx-auto">
                            <h6>Gender</h6>
                        </div>
                        <div class="col-md-2 mx-auto">
                            <h6>Gender of Partner</h6>
                        </div>
                        <div class="col-md-3 mx-auto">
                            <h6>Description</h6>
                        </div>
                    </div>

                    <div data-th-each="profile,it : ${pageOfProfiles}">
                        <div class="row">
                            <input type="hidden" th:value="${profile.id}" name="id"/>

                            <div class="col-md-1 mx-auto">
                                <p data-th-text="${it.count} +(${filter.output_size} * (${currentPage}-1))">
                                    COUNTER</p>
                            </div>
                            <div class="col-md-2 mx-auto" th:align="center">
                                <img th:src="@{'/images/img/' + ${profile.profilePhoto} + '.jpg'}"
                                     style="width: 60px; height: 70px;"
                                     alt="Photo of Unicorn">
                                <br>
                                <div>
                                <a th:href="@{/profile/{id}(id=${profile.id}) }"
                                   type="button" class="btn btn-info btn-sm"  th:text="${profile.nickname}">Go to Profile</a>
                                </div>
                            </div>

                            <div class="col-md-2 mx-auto">
                                <p class="center-block" th:text="${profile.hornlength}">date</p>
                            </div>

                            <div class="col-md-1 mx-auto">
                                <p data-th-text="${profile.age}">Age</p>
                            </div>

                            <div class="col-md-1 mx-auto">
                                <p data-th-text="${profile.genderAsStr}">Gender</p>
                            </div>

                            <div class="col-md-2 mx-auto">
                                <p data-th-text="${profile.attractedToGenderStr}">Gender</p>
                            </div>

                            <div class="col-md-3 mx-auto">
                                <p data-th-text="${profile.description}">Description</p>
                            </div>
                        </div>
                    </div>
                </div>
<!--                <span th:if="${msg != null}" th:text="${msg}"></span>-->
            </div>

            <footer style="font-size: large" class="panel-footer" th:align="center">

                <div class="flex-content" style="width: 40%">
                    <div class="row justify-content-around">
                        <div th:if="${totalPages > 0}" class="pagination">
                            <div class="col-md-6 mx-auto" th:align="center">
                                Found [[${totalProfilesNumber}]] Profiles : Page [[${currentPage}]] of [[${totalPages}]] :
                            </div>
                            <div class="col-md-6 mx-auto" th:align="center">
                                <span th:each="i: ${pageNumbers}">
                                    <div class="btn btn-default">
                                        <a th:href="@{/search(size=${5}, page=${i})}" th:class="${i==currentPage}  ?' ': 'active'" >[[${i}]]</a>
                        <!--                    [[${i}]]   th:style="${i==currentPage}  ?'background-color: #cf84d0;': 'background-color: #668;'"-->
                                    </div>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>


                <br><br>
                <div >
                    <a href="../profile.html" th:href="@{/profile}" class="btn btn-secondary">Go to My Profile</a>
                    <br><br><br>
                </div>
            </footer>

    </div>
    <footer>
        <br><br>
        <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
            <div class="container-fluid">
                <div class="navbar-nav">
                    <a class="navbar-brand" href="#">Date4u</a>
                    <a class="nav-link nav-item" th:href="@{/gallery}">My Gallery</a>
                    <a class="nav-link nav-item" th:href="@{/search}">Search</a>
                    <a class="nav-item nav-link" th:href="@{/logout}">Logout</a>
                </div>
            </div>
        </nav>
    </footer>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
</body>
</html>